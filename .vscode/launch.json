{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal"
        },
        {
            "name": "Debug Lerobot Train",
            "type": "python",
            "request": "launch",
            "program": "scripts/train.py",
            "cwd": "${workspaceFolder}/lerobot/src/lerobot",
            "args": [
                "--policy.path=/inspire/ssd/project/robotsimulation/public/huggingface_models/smolvla_base",
                // "--dataset.repo_id=/inspire/ssd/project/robotsimulation/public/data/Debug-dataset/libero_spatial_no_noops_lerobot",
                "--dataset.repo_id=/inspire/ssd/project/robotsimulation/public/data/LIBERO-Lerobot/libero_full_lerobot",
                "--batch_size=2",
                "--steps=7000",
                "--output_dir=outputs/train/debug",
                "--job_name=debug",
                "--policy.device=cuda",
                "--policy.push_to_hub=false",
                "--wandb.enable=false"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            },
            "justMyCode": true,
            "console": "integratedTerminal"
        },
        {
            "name": "Debug Internvl Chat",
            "type": "debugpy",
            "request": "launch",
            "module": "torch.distributed.run",
            "cwd": "${workspaceFolder}/internvl_chat",
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
              "PYTHONPATH": "${env:PYTHONPATH}:${workspaceFolder}",
              "TF_CPP_MIN_LOG_LEVEL": "3",
              "LAUNCHER": "pytorch",
              "CUDA_VISIBLE_DEVICES": "0",
            },
            "args": [
              "--nnodes", "1",
              "--node_rank", "0",
              "--master_addr", "127.0.0.1",
              "--nproc_per_node", "1",
              "--master_port", "34339",
              "internvl/train/ft_smolvla.py",
              "--model_name_or_path", "/inspire/ssd/project/robotsimulation/public/huggingface_models/smolvla_base",
              "--conv_style", "smolvla",
              "--output_dir", "work_dirs/debug",
              "--meta_path", "/inspire/ssd/project/robotsimulation/zhangchenxi-253108310322/jasonzhang/vla-rl/internvl_chat/shell/data/debug.json",
              "--overwrite_output_dir", "True",
              "--drop_path_rate", "0.0",
              "--dataloader_num_workers", "1",
              "--bf16", "True",
              "--num_train_epochs", "1",
              "--per_device_train_batch_size", "2",
              "--gradient_accumulation_steps", "1",
              "--save_strategy", "steps",
              "--save_steps", "200",
              "--save_total_limit", "1",
              "--learning_rate", "4e-5",
              "--weight_decay", "0.05",
              "--warmup_ratio", "0.03",
              "--lr_scheduler_type", "cosine",
              "--logging_steps", "1",
              "--do_train", "True",
              "--grad_checkpoint", "True",
              "--group_by_length", "False",
              "--deepspeed", "zero_stage1_config.json",
              "--report_to", "tensorboard"
            ],
          },
        
    ]
}