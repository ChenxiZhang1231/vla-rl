{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal"
        },
        {
            "name": "Debug Lerobot Train",
            "type": "python",
            "request": "launch",
            "program": "scripts/train.py",
            "cwd": "${workspaceFolder}/lerobot/src/lerobot",
            "args": [
                "--policy.path=/inspire/ssd/project/robotsimulation/public/huggingface_models/smolvla_base",
                "--dataset.repo_id=/inspire/ssd/project/robotsimulation/public/data/Debug-dataset/libero_spatial_no_noops_lerobot",
                "--batch_size=64",
                "--steps=20000",
                "--output_dir=outputs/train/debug",
                "--job_name=debug",
                "--policy.device=cuda",
                "--policy.push_to_hub=false",
                "--wandb.enable=false"
            ],
            "env": {
                "CUDA_VISIBLE_DEVICES": "0"
            },
            "justMyCode": true,
            "console": "integratedTerminal"
        },
        {
            "name": "Debug Internvl Chat",
            "type": "debugpy",
            "request": "launch",
            "module": "torch.distributed.run",
            "cwd": "${workspaceFolder}/internvl_chat",
            "console": "integratedTerminal",
            "env": {
              "PYTHONPATH": "${env:PYTHONPATH}:${workspaceFolder}",
              "TF_CPP_MIN_LOG_LEVEL": "3",
              "LAUNCHER": "pytorch",
              "CUDA_VISIBLE_DEVICES": "7",
            },
            "args": [
              "--nnodes", "1",
              "--node_rank", "0",
              "--master_addr", "127.0.0.1",
              "--nproc_per_node", "1",
              "--master_port", "34239",
              "internvl/train/ft_smolvla.py",
              "--model_name_or_path", "/inspire/ssd/project/robotsimulation/public/huggingface_models/smolvla_base",
              "--conv_style", "smolvla",
              "--output_dir", "work_dirs/debug",
              "--meta_path", "/inspire/ssd/project/robotsimulation/public/data/Debug-dataset/libero_spatial_no_noops_lerobot",
              "--overwrite_output_dir", "True",
              "--force_image_size", "256",
              "--max_dynamic_patch", "6",
              "--down_sample_ratio", "0.5",
              "--drop_path_rate", "0.0",
              "--freeze_llm", "False",
              "--freeze_mlp", "False",
              "--freeze_backbone", "True",
              "--vision_select_layer", "-1",
              "--dataloader_num_workers", "4",
              "--bf16", "True",
              "--num_train_epochs", "1",
              "--per_device_train_batch_size", "2",
              "--gradient_accumulation_steps", "1",
              "--evaluation_strategy", "no",
              "--save_strategy", "steps",
              "--save_steps", "200",
              "--save_total_limit", "1",
              "--learning_rate", "4e-5",
              "--weight_decay", "0.05",
              "--warmup_ratio", "0.03",
              "--lr_scheduler_type", "cosine",
              "--logging_steps", "1",
              "--max_seq_length", "4096",
              "--do_train", "True",
              "--grad_checkpoint", "True",
              "--group_by_length", "True",
              "--dynamic_image_size", "True",
              "--use_thumbnail", "True",
              "--ps_version", "v2",
              "--deepspeed", "zero_stage1_config.json",
              "--report_to", "tensorboard"
            ],
          },
        
    ]
}